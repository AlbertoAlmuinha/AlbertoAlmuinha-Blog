<!DOCTYPE html>
<html lang="en">
    <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.81.0" /><meta name="theme-color" content="#16171d" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Tidymodels: the recipes package | AlbertoAlmuiña</title>

    <link rel="stylesheet" href="/css/meme.min.82a998858d75bc2a043de7b21539366e813410b171417d364957704fb21a9faa.css"/>

    
    
        <script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js" defer></script><script src="/js/meme.min.888f37ce2b3f1f54c8fe8f1531545c4d423386ed190b53628aabbb20e3476245.js"></script>

    
	
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM&#43;Plex&#43;Serif:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Comfortaa:wght@700&amp;display=swap" media="print" onload="this.media='all'" />
        <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM&#43;Plex&#43;Serif:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Comfortaa:wght@700&amp;display=swap" /></noscript>

    <meta name="author" content="Alberto Almuiña" /><meta name="description" content="Learn how to preprocess your data in a simple and consistent way." />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#2a6df4" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="AlbertoAlmuiña" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="AlbertoAlmuiña" />
    <meta name="msapplication-starturl" content="../../../" />
    <meta name="msapplication-TileColor" content="#fff" />
    <meta name="msapplication-TileImage" content="../../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/" />
    

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "datePublished": "2020-08-23T21:13:14-05:00",
        "dateModified": "2021-06-19T04:59:02+02:00",
        "url": "https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/",
        "headline": "Tidymodels: the recipes package",
        "description": "Learn how to preprocess your data in a simple and consistent way.",
        "inLanguage" : "en",
        "articleSection": "posts",
        "wordCount":  1591 ,
        "image": ["https://AlbertoAlmui%C3%B1a.com/img/recipes_files/cycle.jpg"],
        "author": {
            "@type": "Person",
            "email": "albertogonzalezalmuinha@gmail.com",
            "image": "https://AlbertoAlmui%C3%B1a.com/icons/apple-touch-icon.png",
            "url": "https://albertoalmuinha.com/",
            "name": "Alberto Almuiña"
        },
        "license": "[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en)",
        "publisher": {
            "@type": "Organization",
            "name": "AlbertoAlmuiña",
            "logo": {
                "@type": "ImageObject",
                "url": "https://AlbertoAlmui%C3%B1a.com/icons/apple-touch-icon.png"
            },
            "url": "https://AlbertoAlmui%C3%B1a.com/"
        },
        "mainEntityOfPage": {
            "@type": "WebSite",
            "@id": "https://AlbertoAlmui%C3%B1a.com/"
        }
    }
</script>

    

<meta name="twitter:card" content="summary_large_image" />


<meta name="twitter:site" content="@AlmuinaAlberto" />
<meta name="twitter:creator" content="@AlmuinaAlberto" />

    



<meta property="og:title" content="Tidymodels: the recipes package" />
<meta property="og:description" content="Learn how to preprocess your data in a simple and consistent way." />
<meta property="og:url" content="https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/" />
<meta property="og:site_name" content="AlbertoAlmuiña" />
<meta property="og:locale" content="en" />
            <meta property="og:locale:alternate" content="es" />
        <meta property="og:image" content="https://AlbertoAlmui%C3%B1a.com/img/recipes_files/cycle.jpg" />
<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2020-08-23T21:13:14-05:00" />
    <meta property="article:modified_time" content="2021-06-19T04:59:02&#43;02:00" />
    
    <meta property="article:section" content="posts" />



    
    
    <link rel="stylesheet" href="/css/default.min.css" rel="stylesheet" id="theme-stylesheet"> 
	<script src="/js/highlight.js"></script>
	<script>hljs.highlightAll();</script>

    
</head>

    <body>
        <div class="container">
            
    <header class="header">
        
            <div class="header-wrapper">
                <div class="header-inner single">
                    
    <div class="site-brand">
        
            <a href="/" class="brand">AlbertoAlmuiña</a>
        
    </div>

                    <nav class="nav">
    <ul class="menu" id="menu">
        
            
        
        
        
        
            
                <li class="menu-item"><a href="/posts/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon archive"><path d="M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"/></svg><span class="menu-item-name">Posts</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon th"><path d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"/></svg><span class="menu-item-name">Categories</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/tags/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon tags"><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg><span class="menu-item-name">Tags</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/about/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon user-circle"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><span class="menu-item-name">About</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/newsletter/newsletter/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon envelope"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg><span class="menu-item-name">NewsletteR</span></a>
                </li>
            
        
            
                
                    
                    
                        <li class="menu-item">
                            <a id="theme-switcher" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-light"><path d="M193.2 104.5l48.8-97.5a18 18 0 0128 0l48.8 97.5 103.4 -34.5a18 18 0 0119.8 19.8l-34.5 103.4l97.5 48.8a18 18 0 010 28l-97.5 48.8 34.5 103.4a18 18 0 01-19.8 19.8l-103.4-34.5-48.8 97.5a18 18 0 01-28 0l-48.8-97.5l-103.4 34.5a18 18 0 01-19.8-19.8l34.5-103.4-97.5-48.8a18 18 0 010-28l97.5-48.8-34.5-103.4a18 18 0 0119.8-19.8zM256 128a128 128 0 10.01 0M256 160a96 96 0 10.01 0"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-dark"><path d="M27 412a256 256 0 10154-407a11.5 11.5 0 00-5 20a201.5 201.5 0 01-134 374a11.5 11.5 0 00-15 13"/></svg></a>
                        </li>
                    
                
            
        
            
                
                    
                        
                        
                            <li class="menu-item">
                                <div id="lang-switcher">
            <span>English</span>
            
                <ul id="langs">
                    
                        <li><a rel="alternate" href="/es/posts/2020-08-23-recipes/recipes_es/" hreflang="es" lang="es">Español</a></li>
                    
                </ul>
            
        </div>
                            </li>
                        
                    
                
            
        
    </ul>
</nav>

                    
                </div>
            </div>
            
    <input type="checkbox" id="nav-toggle" aria-hidden="true" />
    <label for="nav-toggle" class="nav-toggle"></label>
    <label for="nav-toggle" class="nav-curtain"></label>


        
    </header>




            
            
    <main class="main single" id="main">
    <div class="main-inner">

        

        <article class="content post h-entry" data-small-caps="true" data-align="default" data-type="posts" data-toc-num="true">

            <h1 class="post-title p-name">Tidymodels: the <code>recipes</code> package</h1>

            

            
                <div class="post-description p-summary">Learn how to preprocess your data in a simple and consistent way.</div>
                
            

            
                

<div class="post-meta">
    
        
        <time datetime="2020-08-23T21:13:14-05:00" class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"/></svg>&nbsp;2020.8.23</time>
    
    
        
        <time datetime="2021-06-19T04:59:02&#43;02:00" class="post-meta-item modified dt-updated"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M400 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V160h352v298a6 6 0 0 1-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"/></svg>&nbsp;2021.6.19</time>
    
    
    
        
        
        
            
                <span class="post-meta-item category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>&nbsp;<a href="/categories/tidymodels/" class="category-link p-category">tidymodels</a></span>
            
        
    
    
        
        <span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;1591</span>
    
    
        
        <span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;8&nbsp;mins</span>
    
    
    
</div>

            

            <div class="post-body e-content">
              <script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />
<hr>
<h2 id="what-is-tidymodels"><a href="#what-is-tidymodels" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>What is tidymodels?</h2>
<hr>
<p><code>tidymodels</code> is a new framework consisting of a series of packages that facilitate the modeling process in data science projects. It allows in a unified way to perform resampling, data preprocessing, unified model interface and results validation. The complete cycle would be as follows:</p>
<p><img src="/img/recipes_files/cycle.jpg" alt=""></p>
<p style="text-indent:0"><span class="drop-cap">I</span>n this post we will focus on the step of data preprocessing with the recipes package.</p>
<hr>
<h2 id="introduction-to-recipes"><a href="#introduction-to-recipes" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>Introduction to <code>recipes</code></h2>
<hr>
<p>This package is born from the effort of bringing together all the steps of data preparation before applying a model in a simple, efficient and consistent way. <code>recipes</code> is born from the analogy between preparing a kitchen recipe and preprocessing your data &hellip; what is the similarity? Both follow a few steps before cooking (modeling).</p>
<p>Every recipe consists of four fundamental steps:</p>
<ul>
<li>
<p><code>recipe()</code>: The formula is specified (predictor variables and response variables).</p>
</li>
<li>
<p><code>step_xxx()</code>: Define the steps such missing values imputation, dummy variables, centering, scaling and so on.</p>
</li>
<li>
<p><code>prep()</code>: Preparation of the recipe. This means that a dataset is used to analyze each step on it.</p>
</li>
<li>
<p><code>bake()</code>: Apply the preprocessing steps to your datasets.</p>
</li>
</ul>
<p>In this post we will cover these four parts and we will see examples of good practices. I hope I can convince you that from now on, tidymodels in general and recipes in particular, are your reference ecosystem.</p>
<h2 id="a-brief-example-airquality-dataset"><a href="#a-brief-example-airquality-dataset" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>A brief example: Airquality dataset</h2>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="nf">library</span><span class="p">(</span><span class="n">rsample</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">recipes</span><span class="p">)</span>

<span class="nf">data</span><span class="p">(</span><span class="s">&#34;airquality&#34;</span><span class="p">)</span>

<span class="nf">head</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">knitr</span><span class="o">::</span><span class="nf">kable</span><span class="p">(</span><span class="s">&#39;html&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">kableExtra</span><span class="o">::</span><span class="nf">kable_styling</span><span class="p">(</span><span class="n">position</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> 
                            <span class="n">font_size</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> 
                            <span class="n">fixed_thead</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">enabled</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">background</span> <span class="o">=</span> <span class="s">&#34;blue&#34;</span><span class="p">)</span>
                            <span class="p">)</span> 
</code></pre></td></tr></table></div>
</div>
</div><div class="table-container"><table class="table" style="font-size: 10px; ">
 <thead>
  <tr>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Ozone </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Solar.R </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Wind </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Temp </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Month </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Day </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 41 </td>
   <td style="text-align:right;"> 190 </td>
   <td style="text-align:right;"> 7.4 </td>
   <td style="text-align:right;"> 67 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 118 </td>
   <td style="text-align:right;"> 8.0 </td>
   <td style="text-align:right;"> 72 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 149 </td>
   <td style="text-align:right;"> 12.6 </td>
   <td style="text-align:right;"> 74 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 313 </td>
   <td style="text-align:right;"> 11.5 </td>
   <td style="text-align:right;"> 62 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 14.3 </td>
   <td style="text-align:right;"> 56 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> 14.9 </td>
   <td style="text-align:right;"> 66 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 6 </td>
  </tr>
</tbody>
</table></div>
<p>First, we are going to separate our dataset into a training dataset and a validation one. We will use 80% of our data to train and the remaining 20% to validate.</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="p">(</span><span class="n">.df</span><span class="o">&lt;-</span><span class="n">airquality</span> <span class="o">%&gt;%</span> <span class="nf">initial_split</span><span class="p">(</span><span class="n">prop</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">))</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## &lt;Analysis/Assess/Total&gt;
## &lt;122/31/153&gt;
</code></pre><div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.df_train</span><span class="o">&lt;-</span><span class="n">.df</span> <span class="o">%&gt;%</span> <span class="nf">training</span><span class="p">()</span>

<span class="n">.df_test</span><span class="o">&lt;-</span><span class="n">.df</span> <span class="o">%&gt;%</span> <span class="nf">testing</span><span class="p">()</span>
</code></pre></td></tr></table></div>
</div>
</div><p>You can see how <code>rsample</code> throws us a split object, where we are told how many records are used in each dataset and the total one. With the <code>training()</code> and <code>testing()</code> methods we can extract the corresponding data.</p>
<p><strong>Creating a recipe object</strong></p>
<p>Now it&rsquo;s time to create our first recipe.</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.recipe</span><span class="o">&lt;-</span><span class="nf">recipe</span><span class="p">(</span><span class="n">Ozone</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">.df_train</span><span class="p">)</span>

<span class="nf">summary</span><span class="p">(</span><span class="n">.recipe</span><span class="p">)</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## # A tibble: 6 x 4
##   variable type    role      source  
##   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;   
## 1 Solar.R  numeric predictor original
## 2 Wind     numeric predictor original
## 3 Temp     numeric predictor original
## 4 Month    numeric predictor original
## 5 Day      numeric predictor original
## 6 Ozone    numeric outcome   original
</code></pre><p>It can be seen how behind the scenes <code>recipes</code> assigns to each variable a type and a role. This will allow us to subsequently select which variables to apply a preprocessing step based on their typology or role. 
A very interesting option that allows recipes is to update the roles of the variables. For example, in this dataset we have two columns that have missing values: &lsquo;Ozone&rsquo; and &lsquo;Solar.R&rsquo;. We can assign these variables a specific role that will later allow us to identify them. We will create the new role &lsquo;NA_Variable&rsquo; with the <code>udpate_role()</code> function:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.recipe</span><span class="o">&lt;-</span><span class="n">.recipe</span> <span class="o">%&gt;%</span> <span class="nf">update_role</span><span class="p">(</span><span class="n">Ozone</span><span class="p">,</span> <span class="n">Solar.R</span><span class="p">,</span> <span class="n">new_role</span> <span class="o">=</span> <span class="s">&#39;NA_Variable&#39;</span><span class="p">)</span>

<span class="nf">summary</span><span class="p">(</span><span class="n">.recipe</span><span class="p">)</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## # A tibble: 6 x 4
##   variable type    role        source  
##   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;   
## 1 Solar.R  numeric NA_Variable original
## 2 Wind     numeric predictor   original
## 3 Temp     numeric predictor   original
## 4 Month    numeric predictor   original
## 5 Day      numeric predictor   original
## 6 Ozone    numeric NA_Variable original
</code></pre><p><strong>Selecting the preprocessing steps</strong></p>
<p>Once the recipe is created, it is the turn to add the necessary steps to carry out the preprocessing of the data. We have many steps to choose from:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="nf">ls</span><span class="p">(</span><span class="s">&#39;package:recipes&#39;</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s">&#39;^step_&#39;</span><span class="p">)</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>##  [1] &quot;step_arrange&quot;       &quot;step_bagimpute&quot;     &quot;step_bin2factor&quot;   
##  [4] &quot;step_BoxCox&quot;        &quot;step_bs&quot;            &quot;step_center&quot;       
##  [7] &quot;step_classdist&quot;     &quot;step_corr&quot;          &quot;step_count&quot;        
## [10] &quot;step_cut&quot;           &quot;step_date&quot;          &quot;step_depth&quot;        
## [13] &quot;step_discretize&quot;    &quot;step_downsample&quot;    &quot;step_dummy&quot;        
## [16] &quot;step_factor2string&quot; &quot;step_filter&quot;        &quot;step_geodist&quot;      
## [19] &quot;step_holiday&quot;       &quot;step_hyperbolic&quot;    &quot;step_ica&quot;          
## [22] &quot;step_impute_bag&quot;    &quot;step_impute_knn&quot;    &quot;step_impute_linear&quot;
## [25] &quot;step_impute_lower&quot;  &quot;step_impute_mean&quot;   &quot;step_impute_median&quot;
## [28] &quot;step_impute_mode&quot;   &quot;step_impute_roll&quot;   &quot;step_indicate_na&quot;  
## [31] &quot;step_integer&quot;       &quot;step_interact&quot;      &quot;step_intercept&quot;    
## [34] &quot;step_inverse&quot;       &quot;step_invlogit&quot;      &quot;step_isomap&quot;       
## [37] &quot;step_knnimpute&quot;     &quot;step_kpca&quot;          &quot;step_kpca_poly&quot;    
## [40] &quot;step_kpca_rbf&quot;      &quot;step_lag&quot;           &quot;step_lincomb&quot;      
## [43] &quot;step_log&quot;           &quot;step_logit&quot;         &quot;step_lowerimpute&quot;  
## [46] &quot;step_meanimpute&quot;    &quot;step_medianimpute&quot;  &quot;step_modeimpute&quot;   
## [49] &quot;step_mutate&quot;        &quot;step_mutate_at&quot;     &quot;step_naomit&quot;       
## [52] &quot;step_nnmf&quot;          &quot;step_normalize&quot;     &quot;step_novel&quot;        
## [55] &quot;step_ns&quot;            &quot;step_num2factor&quot;    &quot;step_nzv&quot;          
## [58] &quot;step_ordinalscore&quot;  &quot;step_other&quot;         &quot;step_pca&quot;          
## [61] &quot;step_pls&quot;           &quot;step_poly&quot;          &quot;step_profile&quot;      
## [64] &quot;step_range&quot;         &quot;step_ratio&quot;         &quot;step_regex&quot;        
## [67] &quot;step_relevel&quot;       &quot;step_relu&quot;          &quot;step_rename&quot;       
## [70] &quot;step_rename_at&quot;     &quot;step_rm&quot;            &quot;step_rollimpute&quot;   
## [73] &quot;step_sample&quot;        &quot;step_scale&quot;         &quot;step_select&quot;       
## [76] &quot;step_shuffle&quot;       &quot;step_slice&quot;         &quot;step_spatialsign&quot;  
## [79] &quot;step_sqrt&quot;          &quot;step_string2factor&quot; &quot;step_unknown&quot;      
## [82] &quot;step_unorder&quot;       &quot;step_upsample&quot;      &quot;step_window&quot;       
## [85] &quot;step_YeoJohnson&quot;    &quot;step_zv&quot;
</code></pre><p>Some of the most common are:</p>
<ul>
<li>
<p><strong><code>step_XXXimpute():</code></strong> Methods to impute missing values such as meanimpute, medianimpute, knnimpute &hellip;</p>
</li>
<li>
<p><strong><code>step_range():</code></strong> Normalize numeric data to be within a pre-defined range of values.</p>
</li>
<li>
<p><strong><code>step_center():</code></strong> Normalize numeric data to have a mean of zero.</p>
</li>
<li>
<p><strong><code>step_scale():</code></strong> Normalize numeric data to have a standard deviation of one.</p>
</li>
<li>
<p><strong><code>step_dummy():</code></strong> Convert nominal data (e.g. character or factors) into one or more numeric binary model terms for the levels of the original data.</p>
</li>
<li>
<p><strong><code>step_other():</code></strong> Step that will potentially pool infrequently occurring values into an &ldquo;other&rdquo; category.</p>
</li>
</ul>
<p>The order in which the steps are executed is important, as you can read on the <a href="https://tidymodels.github.io/recipes/articles/Ordering.html" target="_blank" rel="noopener">official page of the package</a>:</p>
<ol>
<li>Impute</li>
<li>Individual transformations for skewness and other issues</li>
<li>Discretize (if needed and if you have no other choice)</li>
<li>Create dummy variables</li>
<li>Create interactions</li>
<li>Normalization steps (center, scale, range, etc)</li>
<li>Multivariate transformation (e.g. PCA, spatial sign, etc)</li>
</ol>
<p>In addition, in each step we must specify which columns that step affects. There are several ways to do it, we will mention the most common:</p>
<ol>
<li>
<p>Passing the variable name in the first argument</p>
</li>
<li>
<p>Selecting by the role of the variables with <code>all_predictors()</code> and <code>all_outcomes()</code> functions. As in our case we have changed the &lsquo;default&rsquo; roles to &lsquo;NA_Variable&rsquo;, we can use the <code>has_role()</code> function to select them.</p>
</li>
<li>
<p>Selecting by the type of the variables with <code>all_nominal()</code> and <code>all_numerical()</code> functions.</p>
</li>
<li>
<p>Using dplyr selectors as <code>contains()</code>, <code>starts_with()</code> or <code>ends_with()</code> functions.</p>
</li>
</ol>
<p>We are going to apply some of these steps to our example:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.recipe</span><span class="o">&lt;-</span><span class="n">.recipe</span> <span class="o">%&gt;%</span> 
          <span class="nf">step_meanimpute</span><span class="p">(</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">Solar.R</span><span class="p">)</span> <span class="o">%&gt;%</span>
          <span class="nf">step_knnimpute</span><span class="p">(</span><span class="nf">contains</span><span class="p">(</span><span class="s">&#39;.R&#39;</span><span class="p">),</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span> <span class="o">%&gt;%</span>
          <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_numeric</span><span class="p">(),</span> <span class="o">-</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">))</span> <span class="o">%&gt;%</span>
          <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_numeric</span><span class="p">(),</span> <span class="o">-</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">))</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## Warning: `step_knnimpute()` was deprecated in recipes 0.1.16.
## Please use `step_impute_knn()` instead.
</code></pre><pre><code>## Warning: `step_meanimpute()` was deprecated in recipes 0.1.16.
## Please use `step_impute_mean()` instead.
</code></pre><div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.recipe</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## Data Recipe
## 
## Inputs:
## 
##         role #variables
##  NA_Variable          2
##    predictor          4
## 
## Operations:
## 
## Mean Imputation for has_role(&quot;NA_Variable&quot;), -Solar.R
## K-nearest neighbor imputation for contains(&quot;.R&quot;)
## Centering for all_numeric(), -has_role(&quot;NA_Variable&quot;)
## Scaling for all_numeric(), -has_role(&quot;NA_Variable&quot;)
</code></pre><p>It can be seen how combining all the variable selection techniques we obtain great versatility. Also comment that when the minus sign is used it means that the columns that meet this condition are excluded from the preprocessing step. It can also be seen how the recipes object now specifies all the steps that will be carried out and on which variables.</p>
<p><strong>Preparing the recipe</strong></p>
<p>The time has come to prepare the recipe on a dataset. Once prepared, we can apply this recipe on multiple datasets:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="p">(</span><span class="n">.recipe</span><span class="o">&lt;-</span><span class="n">.recipe</span> <span class="o">%&gt;%</span> <span class="nf">prep</span><span class="p">(</span><span class="n">.df_train</span><span class="p">))</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## Data Recipe
## 
## Inputs:
## 
##         role #variables
##  NA_Variable          2
##    predictor          4
## 
## Training data contained 122 data points and 35 incomplete rows. 
## 
## Operations:
## 
## Mean Imputation for Ozone [trained]
## K-nearest neighbor imputation for Wind, Temp, Month, Day [trained]
## Centering for Wind, Temp, Month, Day [trained]
## Scaling for Wind, Temp, Month, Day [trained]
</code></pre><p>It is observed how the recipe is now &lsquo;trained&rsquo;.</p>
<p><strong>Baking the recipe</strong></p>
<p>Now we can apply this recipe to another dataset, for example to the test data:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.df_test</span><span class="o">&lt;-</span><span class="n">.recipe</span> <span class="o">%&gt;%</span> <span class="nf">bake</span><span class="p">(</span><span class="n">.df_test</span><span class="p">)</span>

<span class="nf">head</span><span class="p">(</span><span class="n">.df_test</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">knitr</span><span class="o">::</span><span class="nf">kable</span><span class="p">(</span><span class="s">&#39;html&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">kableExtra</span><span class="o">::</span><span class="nf">kable_styling</span><span class="p">(</span><span class="n">position</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> 
                            <span class="n">font_size</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> 
                            <span class="n">fixed_thead</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">enabled</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">background</span> <span class="o">=</span> <span class="s">&#34;blue&#34;</span><span class="p">)</span>
                            <span class="p">)</span> 
</code></pre></td></tr></table></div>
</div>
</div><div class="table-container"><table class="table" style="font-size: 10px; ">
 <thead>
  <tr>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Solar.R </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Wind </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Temp </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Month </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Day </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Ozone </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 194 </td>
   <td style="text-align:right;"> -0.4241755 </td>
   <td style="text-align:right;"> -0.9107674 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> -0.6204946 </td>
   <td style="text-align:right;"> 42 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 221 </td>
   <td style="text-align:right;"> -0.9134636 </td>
   <td style="text-align:right;"> -0.3816549 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> -0.5075091 </td>
   <td style="text-align:right;"> 7 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 78 </td>
   <td style="text-align:right;"> 2.3964265 </td>
   <td style="text-align:right;"> -2.1806373 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> 0.2833901 </td>
   <td style="text-align:right;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> -0.1075773 </td>
   <td style="text-align:right;"> -1.6515248 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> 0.5093613 </td>
   <td style="text-align:right;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 92 </td>
   <td style="text-align:right;"> 0.5544007 </td>
   <td style="text-align:right;"> -1.7573473 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> 0.9613036 </td>
   <td style="text-align:right;"> 32 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 252 </td>
   <td style="text-align:right;"> 1.3890686 </td>
   <td style="text-align:right;"> 0.3591026 </td>
   <td style="text-align:right;"> -1.402669 </td>
   <td style="text-align:right;"> 1.5262316 </td>
   <td style="text-align:right;"> 45 </td>
  </tr>
</tbody>
</table></div>
<p>Finally we put it all together:</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">.df</span><span class="o">&lt;-</span><span class="nf">recipe</span><span class="p">(</span><span class="n">Ozone</span> <span class="o">~</span> <span class="n">.,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">.df_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
   
       <span class="nf">update_role</span><span class="p">(</span><span class="n">Ozone</span><span class="p">,</span> <span class="n">Solar.R</span><span class="p">,</span> <span class="n">new_role</span> <span class="o">=</span> <span class="s">&#39;NA_Variable&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span>
   
       <span class="nf">step_meanimpute</span><span class="p">(</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">Solar.R</span><span class="p">)</span> <span class="o">%&gt;%</span>
       <span class="nf">step_knnimpute</span><span class="p">(</span><span class="nf">contains</span><span class="p">(</span><span class="s">&#39;.R&#39;</span><span class="p">),</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span> <span class="o">%&gt;%</span>
       <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_numeric</span><span class="p">(),</span> <span class="o">-</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">))</span> <span class="o">%&gt;%</span>
       <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_numeric</span><span class="p">(),</span> <span class="o">-</span><span class="nf">has_role</span><span class="p">(</span><span class="s">&#39;NA_Variable&#39;</span><span class="p">))</span> <span class="o">%&gt;%</span>
   
       <span class="nf">prep</span><span class="p">(</span><span class="n">.df_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
       <span class="nf">bake</span><span class="p">(</span><span class="n">.df_test</span><span class="p">)</span>
</code></pre></td></tr></table></div>
</div>
</div><pre><code>## Warning: `step_knnimpute()` was deprecated in recipes 0.1.16.
## Please use `step_impute_knn()` instead.
</code></pre><pre><code>## Warning: `step_meanimpute()` was deprecated in recipes 0.1.16.
## Please use `step_impute_mean()` instead.
</code></pre><div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="nf">head</span><span class="p">(</span><span class="n">.df</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">knitr</span><span class="o">::</span><span class="nf">kable</span><span class="p">(</span><span class="s">&#39;html&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
  <span class="n">kableExtra</span><span class="o">::</span><span class="nf">kable_styling</span><span class="p">(</span><span class="n">position</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> 
                            <span class="n">font_size</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> 
                            <span class="n">fixed_thead</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">enabled</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">background</span> <span class="o">=</span> <span class="s">&#34;blue&#34;</span><span class="p">)</span>
                            <span class="p">)</span> 
</code></pre></td></tr></table></div>
</div>
</div><div class="table-container"><table class="table" style="font-size: 10px; ">
 <thead>
  <tr>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Solar.R </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Wind </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Temp </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Month </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Day </th>
   <th style="text-align:right;position: sticky; top:0; background-color: blue;"> Ozone </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 194 </td>
   <td style="text-align:right;"> -3.021482 </td>
   <td style="text-align:right;"> -8.308899 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.820458 </td>
   <td style="text-align:right;"> 42 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 221 </td>
   <td style="text-align:right;"> -3.162308 </td>
   <td style="text-align:right;"> -8.252907 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.807692 </td>
   <td style="text-align:right;"> 7 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 78 </td>
   <td style="text-align:right;"> -2.209666 </td>
   <td style="text-align:right;"> -8.443280 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.718332 </td>
   <td style="text-align:right;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> -2.930360 </td>
   <td style="text-align:right;"> -8.387288 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.692800 </td>
   <td style="text-align:right;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 92 </td>
   <td style="text-align:right;"> -2.739832 </td>
   <td style="text-align:right;"> -8.398486 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.641737 </td>
   <td style="text-align:right;"> 32 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 252 </td>
   <td style="text-align:right;"> -2.499601 </td>
   <td style="text-align:right;"> -8.174518 </td>
   <td style="text-align:right;"> -5.89308 </td>
   <td style="text-align:right;"> -1.577908 </td>
   <td style="text-align:right;"> 45 </td>
  </tr>
</tbody>
</table></div>
<p>As you have seen, this package offers a wide range of possibilities and facilities for carrying out the preprocessing task. Many other interesting topics about this package have been left out of this post: creating your own preprocessing step or combining this package with rsamples to apply multiple recipes to partitions used by bootstrapping or cv-Folds techniques. Maybe for a next post.</p>

            </div>

            
    
    
        <ul class="post-copyright">
            <li class="copyright-item author"><span class="copyright-item-text">Author</span>: <a href="https://albertoalmuinha.com/" class="p-author h-card" target="_blank" rel="noopener">Alberto Almuiña</a></li>
            
                
                
                
                
                <li class="copyright-item link"><span class="copyright-item-text">Link</span>: <a href="/posts/2020-08-23-recipes/recipes/" target="_blank" rel="noopener">https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/</a></li>
            
            <li class="copyright-item license"><span class="copyright-item-text">License</span>: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a></li>
            
        </ul>
    



        </article>

        

        
    <div class="updated-badge-container">
        <span title="Updated @ 2021-06-19 04:59:02 CEST" style="cursor:help">

<svg xmlns="http://www.w3.org/2000/svg" width="130" height="20" class="updated-badge"><linearGradient id="b" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><clipPath id="a"><rect width="130" height="20" rx="3" fill="#fff"/></clipPath><g clip-path="url(#a)"><path class="updated-badge-left" d="M0 0h55v20H0z"/><path class="updated-badge-right" d="M55 0h75v20H55z"/><path fill="url(#b)" d="M0 0h130v20H0z"/></g><g fill="#fff" text-anchor="middle" font-size="110"><text x="285" y="150" fill="#010101" fill-opacity=".3" textLength="450" transform="scale(.1)">updated</text><text x="285" y="140" textLength="450" transform="scale(.1)">updated</text><text x="915" y="150" fill="#010101" fill-opacity=".3" textLength="650" transform="scale(.1)">2021-06-19</text><text x="915" y="140" textLength="650" transform="scale(.1)">2021-06-19</text></g></svg>
        </span></div>



        


        <div class="post-share">

        

        <div class="share-items">

            
                <div class="share-item twitter">
                    
                    <a href="https://twitter.com/share?url=https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/&amp;text=Tidymodels:%20the%20recipes%20package&amp;hashtags=preprocess,recipes,&amp;via=AlmuinaAlberto" title="Share on Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon twitter-icon"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a>
                </div>
            

            
                <div class="share-item facebook">
                    
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/&amp;hashtag=%23preprocess" title="Share on Facebook" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon facebook-icon"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></a>
                </div>
            

            
                <div class="share-item linkedin">
                    
                    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/&amp;title=Tidymodels:%20the%20recipes%20package&amp;summary=Learn%20how%20to%20preprocess%20your%20data%20in%20a%20simple%20and%20consistent%20way.&amp;source=AlbertoAlmui%c3%b1a" title="Share on LinkedIn" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon linkedin-icon"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
                </div>
            

            
                <div class="share-item telegram">
                    
                    <a href="https://t.me/share/url?url=https://AlbertoAlmui%C3%B1a.com/posts/2020-08-23-recipes/recipes/&amp;text=Tidymodels:%20the%20recipes%20package" title="Share on Telegram" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon telegram-icon"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg></a>
                </div>
            

            

            

            

            

            
                <div class="share-item qrcode">
                    <div class="qrcode-container" title="Share via QR Code"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qrcode-icon"><path d="M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"/></svg><div id="qrcode-img"></div>
                    </div>
                    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>

<script>
    var typeNumber = 0;
    var errorCorrectionLevel = 'L';
    var qr = qrcode(typeNumber, errorCorrectionLevel);
    qr.addData('https:\/\/AlbertoAlmui%C3%B1a.com\/posts\/2020-08-23-recipes\/recipes\/');
    qr.make();
    document.getElementById('qrcode-img').innerHTML = qr.createImgTag();
</script>

                </div>
            

        </div>

    </div>




        
    
    



        
    
        <div class="post-tags">
            
                
                
                
                
                    
                    <a href="/tags/preprocess/" rel="tag" class="post-tags-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>preprocess</a>
                
            
                
                
                
                
                    
                    <a href="/tags/recipes/" rel="tag" class="post-tags-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>recipes</a>
                
            
        </div>
    



        


        


        
    
        
        
    
    
    
    
        <ul class="post-nav">
            
                <li class="post-nav-prev">
                    <a href="/posts/2020-11-07-docker-and-r/docker_r/" rel="prev">&lt; Why Docker &amp; R?</a>
                </li>
            
            
                <li class="post-nav-next">
                    <a href="/posts/2020-05-04-crayon/crayon/" rel="next"><code>crayon</code> R package &gt;</a>
                </li>
            
        </ul>
    



        
    

        <div class="load-comments">
            <div id="load-comments">Load Comments?</div>
        </div>

        
            <div id="disqus_thread"></div>
        

        

        

    



    </div>
</main>


            
    <div id="back-to-top" class="back-to-top">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a>
    </div>


            
    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="site-info">©&nbsp;2021–2021&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;Alberto Almuiña</div><div class="powered-by">Powered by <a href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener">Hugo</a> | Theme is <a href="https://github.com/reuixiy/hugo-theme-meme" target="_blank" rel="noopener">MemE</a></div><div class="site-copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a></div>

            
    
        <ul class="socials"><li class="socials-item">
                    <a href="/rss.xml" target="_blank" rel="external noopener" title="RSS"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon social-icon"><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"/></svg></a>
                </li><li class="socials-item">
                    <a href="mailto:albertogonzalezalmuinha@gmail.com" target="_blank" rel="external noopener" title="Email"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon social-icon"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg></a>
                </li><li class="socials-item">
                    <a href="https://github.com/AlbertoAlmuinha" target="_blank" rel="external noopener" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon social-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
                </li><li class="socials-item">
                    <a href="https://twitter.com/AlmuinaAlberto" target="_blank" rel="external noopener" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon social-icon"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a>
                </li><li class="socials-item">
                    <a href="https://www.linkedin.com/in/alberto-gonz%C3%A1lez-almui%C3%B1a-b1176881/" target="_blank" rel="external noopener" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon social-icon"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
                </li></ul>
    



            
        </div>
    </footer>


        </div>
        

        


    <script>
    if (typeof MathJax === 'undefined') {
        window.MathJax = {
            loader: {
                load: ['[tex]/mhchem']
            },
            
            tex: {
                inlineMath: {'[+]': [['$', '$']]},
                tags: 'ams',
                packages: {'[+]': ['mhchem']}
            }
        };
        (function() {
            var script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
            script.defer = true;
            document.head.appendChild(script);
        })();
    } else {
        MathJax.texReset();
        MathJax.typeset();
    }
</script>






    

        
            <script>
    function loadComments() {
        if (typeof DISQUS === 'undefined') {
            var disqus_config = function() {
                this.page.url = 'https:\/\/AlbertoAlmui%C3%B1a.com\/posts\/2020-08-23-recipes\/recipes\/';
                this.page.identifier = '\/posts\/2020-08-23-recipes\/recipes\/';
                this.page.title = 'Tidymodels: the recipes package';
            };
            (function() {
                var d = document, s = d.createElement('script'); s.async = true;
                s.src = 'https://https-alberto-almuinha-netlify-app.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        } else {
            DISQUS.reset({
                reload: true,
                config: function() {
                    this.page.url = 'https:\/\/AlbertoAlmui%C3%B1a.com\/posts\/2020-08-23-recipes\/recipes\/';
                    this.page.identifier = '\/posts\/2020-08-23-recipes\/recipes\/';
                    this.page.title = 'Tidymodels: the recipes package';
                }
            });
        }
    }
</script>

        

        

        

    



    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js"></script>

<script>
    mediumZoom(document.querySelectorAll('div.post-body img'), {
        background: 'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'
    })
</script>




    <script src="https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js" type="module" defer></script>







    </body>
</html>
